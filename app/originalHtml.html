<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>

<div class="wrapper">
	<div class="fr-breadcrumbs u-only-pc">
		<ol class="fr-breadcrumbs_inner">
			<li class="fr-breadcrumbs_item"><a class="fr-breadcrumbs_itemLink js-trackEvent"
					href="https://www.uniqlo.com/" data-category="L3_20ss_masterpiece"
					data-label="L3_20ss_masterpiece_top_breadcrumb_1">
					<font style="vertical-align: inherit;">
						<font style="vertical-align: inherit;">UNIQLO TOP</font>
					</font>
				</a></li>
			<li class="fr-breadcrumbs_item">
				<font style="vertical-align: inherit;">
					<font style="vertical-align: inherit;">Master piece</font>
				</font>
			</li>
		</ol>
	</div>
	<main class="main">

	</main>
</div>


<script>
	var state = {
		loading: false,
		menuSelectedItem: '',
		filter: 'all',
		contentSelected: ''
	}

	var homepageHero = {
		imagePC: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece-banner_pc.jpg`,
		imageMB: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece-banner_sp.jpg`,
		copy: `home copy`
	}

	var masterpieceData = [{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_37_Colorful-50-socks.jpg`,
			title: `From the nation who takes socks seriously`,
			productName: `Colorful 50 Socks`,
			gender: [`Men`],
			category: `Accessories`,
			url: `?product=colorful-50-socks&category=accessories`,
			productCopy: `In Japan, it&apos;s customary to take off your shoes inside, which makes socks innerwear and an accessory seen by others. This demands they be comfortable, durable, and stylish. UNIQLO is spreading this standard globally with special self-deodorizing thread that&apos;s hole-resistant and designed to help socks stay in place shoes of all types. What’s more, we have the a truly staggering variety of colors, making these Color Socks a true luxury for your feet.`,
			relatedProducts: {
				title: `From the nation who takes socks seriously`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_32_M's-Vintage-regular-fit-chino-pants.jpg`,
			title: `Vintage on the outside, modern day on the inside`,
			productName: `Vintage Regular Fit Chinos`,
			gender: [`Men`],
			category: `Bottoms`,
			url: `?product=vintage-regular-fit-chinos&category=bottoms`,
			productCopy: `Which details are imperative to acheive a vintage Chino look? he pocket shape? The zipper quality? The durability of the stitchwork? .which details give it the authentic character? These are all important qualityies, but the real key is the construction of the fabric. We updated the materials to lend a rugged, vintage feel on the outside but updated the design for today with a soft texture on the inside.`,
			relatedProducts: {
				title: `Vintage on the outside, modern day on the inside`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_34_M's-Dry-pique-polo.jpg`,
			title: `Quality makes the first impression`,
			productName: `Dry Pique Polo Shirt`,
			gender: [`Men`],
			category: `Tops`,
			url: `?product=dry-pique-polo-shirt&category=tops`,
			productCopy: `What makes or breaks a polo shirt are the collars and the sleeves. Wash after wash, the sharp lines give way. We decided to swap the thread used in these areas with fabric woven using air pressure to prevent lint fluff and double-layered the button strip to boost durability. This makes them incredibly versatile, able to be styled alone casually or paired it with a blazer for a more formal look.`,
			relatedProducts: {
				title: `Quality makes the first impression`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_W-SUPIMA-COTTON-T-Shirt_422697.jpg`,
			title: `SUPIMA®: Because Basic Does Not Lie`,
			productName: `Supima Cotton Crew Neck T-shirt`,
			gender: [`women`, `men`],
			category: `Tops`,
			url: `?product=supima-cotton-crew-neck-t_shirt&category=tops`,
			productCopy: `The finest Pima cotton, grown in the high dry land of Pima, Arizona, is called Supima® (superior pima). It represents less than1% of cotton grown in the world and is highly sought after, but we didn&apos;t hesitate to use it for T-shirts. Because when you try to upgrade the ultimate basic, you must use premium material. You&apos;ll recognize the high-quality color and soft texture at first touch, because basic does not lie.`,
			relatedProducts: {
				title: `SUPIMA®: Because Basic Does Not Lie`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_24_34_Uniqlo-U-crew-neck-Tshirts.jpg`,
			title: `T-shirts that evolve with the times`,
			productName: `Crew Neck T-shirt`,
			gender: [`women`, `men`],
			category: `Tops`,
			url: `?product=crew-neck-t_shirt&category=tops`,
			productCopy: `Some might treat the T-shirt as an already-perfected design, but we believe attention to detail reveals much potential for improvement. Driven by this belief, we scrutinized the thread and color quality along with the density of the fabric so the design maintains its shape longer than ever before. We&apos;re proud to introduce the next classic T-shirt that&apos;s universally flattering and multi-functional.`,
			relatedProducts: {
				title: `T-shirts that evolve with the times`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_33_M's-EFC-broad-shirts.jpg`,
			title: `A shirt made with everyone in mind`,
			productName: `Extra Fine Cotton Broad Shirt`,
			gender: [`Men`],
			category: `Tops`,
			url: `?product=extra-fine-cotton-broad-shirt&category=tops`,
			productCopy: `Casual shirts can make their own style statement thanks to 100% extra-long cotton fibers, known for allowing dye to seep to their core to acheive high-quality color saturation. That’s not all: We also adjust the density of the weave according to the pattern design like stripes or checks. UNIQLO believes everyone should be able to revel in the simplicity of premium quality, and this is how we acheive it.`,
			relatedProducts: {
				title: `A shirt made with everyone in mind`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_33_M's-super-non-iron-shirt_SW_NP.jpg`,
			title: `Farewell to ironing.`,
			productName: `Super Non-Iron Shirt`,
			gender: [`Men`],
			category: `Tops`,
			url: `?product=super-non_iron-shirt&category=tops`,
			productCopy: `Even if it’s a non-iron shirt, it’s pointless if it feels and looks uncomfortable. UNIQLO not only pursues style and comfort, but also low-maintenance care, all at once. For the high-quality look, we’ve selected premium materials and treated them with a special easy-care finishing technology, particularly to the wrinkle-prone sleeves and underarm areas so that these shirts are both stylish and convenient. *Depending on washing method, light ironing may be needed.`,
			relatedProducts: {
				title: `Farewell to ironing.`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_33_M's-Fine-cloth-easy-care-shirt_NP.jpg`,
			title: `You can tell the quality by the collar`,
			productName: `Fine Cloth Shirt`,
			gender: [`Men`],
			category: `Tops`,
			url: `?product=fine-cloth-shirt&category=tops`,
			productCopy: `At UNIQLO, we believe a shirt is only as good as its stitching. Our masters of needlework ensure our shirts are in a class all their own. For many years, they have kept the industry going, and their influence can be seen throughout every step of our production. Take the collar for example: it must be perfectly symmetrical and stand crisply on its own. To achieve this, each one is carefully stitched together using a special method designed by the masters, creating high-quality design that&apos;s Made For All.`,
			relatedProducts: {
				title: `You can tell the quality by the collar`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_23_W's-rayon-blouse.jpg`,
			title: `Low-maintenance yet highly refined`,
			productName: `Rayon Blouse`,
			gender: [`Women`],
			category: `Tops`,
			url: `?product=rayon-blouse&category=tops`,
			productCopy: `Rayon can be a finicky fabric, but at UNIQLO we like a challenge. Our secret is the special thread hybrid thread that&apos;s part-rayon for luster, part-polyester for durability that leaves the rayon fabric soft and easy to care for. The only thing lost is the extra time it takes you to maintain.`,
			relatedProducts: {
				title: `Low-maintenance yet highly refined`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_31_M's-Comfort-jacket.jpg`,
			title: `Small details speak volumes.`,
			productName: `Comfort jacket`,
			gender: [`Men`],
			category: `Outerwear`,
			url: `?product=comfort-jacket&category=outerwear`,
			productCopy: `To engineer a jacket with ultimate comfort, we started with stretchy jersey and gave it a brushed wool-like texture for a more formal look. We then ergonomically tweaked the positioning and placement of the collar so it&apos;s always sharp. All this was done to ensure that this jacket is as supremely stylish as it is completely comfortable.`,
			relatedProducts: {
				title: `Small details speak volumes.`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		},
		{
			image: `https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/masterpiece_33_M's-Premium-Linen-Shirt.jpg`,
			title: `Linen: Transformed by Human Hands`,
			productName: `Premium Linen Shirt`,
			gender: [`women`, `men`],
			category: `Tops`,
			url: `?product=premium-linen-shirt&category=tops`,
			productCopy: `The oldest textile in the world, linen is mainly produced in Northern France. The premium linen used by UNIQLO has a distinct, signature texture thanks to little knots in the fiber called “Neps,” but a balance must be found between too many and too few. To achieve this, we remove excess Neps from the fabric one-by-one with tweezers—a process requiring patience as well as the steady hand and keen eyes of highly skilled textile experts.`,
			relatedProducts: {
				title: `Linen: Transformed by Human Hands`,
				productList: [{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Women`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					},
					{
						image: `http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/product-1-1.webp?20200306`,
						gender: `Men`,
						productName: `Premium linen skipper shirt`,
						productUrl: `https://www.uniqlo.com/jp/store/goods/426232-30`,
						ctaUrl: `https://www.uniqlo.com/jp/store/feature/uq/longshirts/women/`,
						ctaCopy: `WOMEN related products`
					}
				]
			}
		}




	]

	//Homepage Components

	var hompageMenu = () => {
		var menu = `
		
				<div class="l-navigation_head">
					<figure class="u-imgAdjustBox" data-sp-aspect-ratio="90:235" data-pc-aspect-ratio="172:45">
						<picture class="u-imgAdjustBox_inner">
							<img class="fr-img lazyloaded"
								src="http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/sp-navigation-logo.png?20200306"
								data-src="http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/sp-navigation-logo.png?20200306"
								alt="UNIQLO MASTERPIECE" data-expand="300">
						</picture>
					</figure>
				</div>

				<!-- Navigation -->
				<div class="l-navigation_wrapper">
					<ul class="l-navigation_body" data-navigation-position="default">
						<li  class="l-navigation_item js-smoothScroll is-active -all js-trackEvent"
							data-filter-button="all" data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_all_icon"><span>ALL</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -outer js-trackEvent" data-filter-button="outer"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_outer_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-outer.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-outer.svg"
										alt="OUTER" data-expand="300"></picture>
							</figure><span class="u-only-pc">OUTER</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -tops js-trackEvent" data-filter-button="tops"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_tops_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-tops.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-tops.svg"
										alt="TOPS" data-expand="300"></picture>
							</figure><span class="u-only-pc">TOPS</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -bottoms js-trackEvent"
							data-filter-button="bottoms" data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_bottoms_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-bottoms.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-bottoms.svg"
										alt="BOTTOMS" data-expand="300"></picture>
							</figure><span class="u-only-pc">BOTTOMS</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -dress js-trackEvent" data-filter-button="dress"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_dress_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-dress.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-dress.svg"
										alt="DRESS" data-expand="300"></picture>
							</figure><span class="u-only-pc">DRESS</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -roomwear js-trackEvent"
							data-filter-button="roomwear" data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_roomwear_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-roomwear.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-roomwear.svg"
										alt="ROOM WEAR" data-expand="300"></picture>
							</figure><span class="u-only-pc">ROOM WEAR</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -inner js-trackEvent" data-filter-button="inner"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_inner_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-inner.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-inner.svg"
										alt="INNER" data-expand="300"></picture>
							</figure><span class="u-only-pc">INNER</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -goods js-trackEvent" data-filter-button="goods"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_goods_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-goods.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-goods.svg"
										alt="GOODS" data-expand="300"></picture>
							</figure><span class="u-only-pc">GOODS</span>
						</li>
						<li class="l-navigation_item js-smoothScroll -baby js-trackEvent" data-filter-button="baby"
							data-link=".l-container" data-category="L3_20ss_masterpiece"
							data-label="L3_20ss_masterpiece_baby_icon">
							<figure class="u-imgAdjustBox l-navigation_icon" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner l-navigation_iconInner"><img
										class="fr-img lazyloaded"
										src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-baby.svg"
										data-src="https://image.uniqlo.com//UQ/ST3/us/imagesother/featurepages/HighQuality/icon-baby.svg"
										alt="BABY" data-expand="300"></picture>
							</figure><span class="u-only-pc">BABY</span>
						</li>
					</ul>
				</div>

		`
		$('.l-navigation').html(menu)
	}

	var homepageProductList = () => {

		var categoryProductItems = masterpieceData
			.filter(product => state.filter === product.category.toLowerCase() || state.filter === 'all')
			.map((product, i) => {
				let productTile = `
				<section class="c-contentsCard -no-${i}" data-filter-panel="tops" aria-hidden="false"><a
						class="js-trackEvent" data-category="L3_20ss_masterpiece"
						data-label="${'gatag'}"
						href="${product.url}">
						<figure class="u-imgAdjustBox" data-aspect-ratio="1:1">
							<picture class="u-imgAdjustBox_inner">
								<img class="fr-img lazyloaded"
									src="${product.image}"
									data-src="${product.image}"
									alt="${product.title}" data-expand="300">
							</picture>
						</figure>
						<div class="c-contentsCard_inner">
							<h2 class="c-contentsCard_title">${product.title}</h2>
							<ul class="c-label -inCard">
								<li class="c-label_item -category">${product.category}</li>
								<li class="c-label_item -name">${product.productName}</li>
							</ul>
						</div>
					</a>
				</section>
			`

				return productTile


			})

		var productListContainer =
			`
				<div class="c-contentsCardGroup_body">
					${categoryProductItems && categoryProductItems.length > 0 ? 
						categoryProductItems.join('')
					:
						'<div class="c-contentsCard -comingSoon" >Coming soon...</div>'
					}
				</div>
			`
		$('.c-contentsCardGroup').html(productListContainer)

	}

	var homepage = () => {
		var homepageComponent = `
			<div class="o-hero">
				<h1 class="o-hero_title">
					<figure class="u-imgAdjustBox" data-sp-aspect-ratio="452:126" data-pc-aspect-ratio="960:70">
						<picture class="u-imgAdjustBox_inner">
							<source
								data-srcset="${homepageHero.imagePC}"
								media="(min-width: 813px)" type="image/png"
								srcset="${homepageHero.imagePC}">
							<source
								data-srcset="${homepageHero.imageMB}"
								type="image/png"
								srcset="${homepageHero.imageMB}">
							<img class="fr-img lazyloaded"
								src="${homepageHero.imageMB}"
								data-src="http://175.41.241.98:8001/jp/ja/contents/feature/masterpiece/img/sp-hero-logo.png?20200306"
								alt="UNIQLO MASTERPIECE" data-expand="300">
						</picture>
					</figure>
				</h1>
			</div>
			<p class="a-lead">
				${homepageHero.copy}
			</p>
			<div class="l-container -topLayer">
				<nav class="l-navigation">
				</nav>
				<div class="c-contentsCardGroup">
				</div>
			</div>
		`
		$('.main').html(homepageComponent.replace(/>[ ]+</g, "><"))
		hompageMenu();
		homepageProductList()


	}


	// Product Components

	var productInfo = () => {
		var product = state.contentSelected
		var image = `
				<figure class="u-imgAdjustBox" data-aspect-ratio="1:1">
					<picture class="u-imgAdjustBox_inner">
						<source data-srcset="${product.image}" type="image/jpeg" srcset="${product.image}"><img
							class="fr-img ls-is-cached lazyloaded" src="${product.image}"
							data-src="${product.image}" alt="Comfort jacket" data-expand="300">
					</picture>
				</figure>`;

		var content = `
				<h1 class="c-contentsPanel_title">
					${product.title}
				</h1>
				<p class="c-contentsPanel_text">
					${product.productCopy}
				</p>
				<ul class="c-label -inPanel">
					<li class="c-label_item -category">
						${product.category}
					</li>
					${ product.gender && product.gender.length > 0 ?
						Object.keys(product.gender).map((i) => {
							return (
								`<li class="c-label_item -gender" data-i=${i}>
									${product.gender[i]}
								</li>`)
							}).join('')
						: null
					}
					<li class="c-label_item -name">
						${product.productName}
					</li>
				</ul>`;

		$('.c-contentsPanel .c-contentsPanel_image').html(image);
		$('.c-contentsPanel .c-contentsPanel_inner').html(content);


	}

	var relatedProducts = () => {
		var product = state.contentSelected;
		var relatedProductsComponent =
			`	<h2 class="c-shoulderSection_title">
				${product.relatedProducts.title}
			</h2>
			<ul class="c-productButtonGroup">
			</ul>
		`;

		$('.c-shoulderSection').html(relatedProductsComponent);

		if (product.relatedProducts && product.relatedProducts.productList.length > 0) {

			for (var data in product.relatedProducts.productList) {
				getRelatedProduct(product.relatedProducts.productList[data])
			}
		}

	}

	var getRelatedProduct = (data) => {
		let productComponent = `
			<li class="c-productButtonGroup_item">
				<a class="c-productButton js-trackEvent"
					data-category="L3_20ss_masterpiece_comfort_jacket_details_page" data-label="L4_425035"
					href="${data.productUrl}">
					<figure class="u-imgAdjustBox" data-aspect-ratio="1:1">
						<picture class="u-imgAdjustBox_inner">
								<img class="fr-img lazyloaded"
								src="${data.image}"
								data-src="${data.image}"
								alt="Comfort jacket" data-expand="300">
						</picture>
					</figure>
					<div class="c-productButton_inner">
						<p class="c-productButton_gender">
							${data.gender}
						</p>
						<h3 class="c-productButton_title">
							${data.productName}
						</h3>
						<p class="c-productButton_viewProduct">
							View Product
						</p>
					</div>
				</a>
				<a class="c-linkButton js-trackEvent" href="https://www.uniqlo.com/jp/store/feature/uq/cutsewl/women/" 
				data-category="L3_20ss_masterpiece_supima_cotton_crew_neck_shirt_details_page" 
				data-label="L3_ws_t_shirt">${data.gender} related products</font></a>
			</li>
			`
		$('.c-productButtonGroup').append(productComponent)
	}

	var topArticles = () => {
		var articles = masterpieceData
			.filter(product => product.title.toLowerCase() !== state.contentSelected.title.toLowerCase() && product
				.category.toLowerCase() === state.contentSelected.category.toLowerCase())
			.map((product, i) => {
				return (
					`
					<li class="c-relatedButtonGroup_item"><a class="c-relatedButton js-trackEvent"
							data-category="L3_20ss_masterpiece_fine_cloth_shirt_details_page"
							data-label="L3_20ss_masterpiece_premium_linen_details_page"
							href="${product.url}">
							<figure class="u-imgAdjustBox" data-aspect-ratio="1:1">
								<picture class="u-imgAdjustBox_inner">
								
									<source data-srcset="${product.image}"
										type="image/jpeg"
										srcset="${product.image}"><img
										class="fr-img lazyloaded"
										src="${product.image}"
										data-src="${product.image}"
										alt="${product.title}" data-expand="300">
								</picture>
							</figure>
							<div>
								<h3 class="c-relatedButton_title">
									${product.title}
								</h3>
								<p class="c-relatedButton_name">
									${product.productName}
								</p>
							</div>
						</a>
					</li>
					`
				)
			})
		if (articles.length > 0) {
			var articleComponent = `
					<h2 class="l-relatedAside_title">
						Tops Articles
					</h2>
					<ul class="c-relatedButtonGroup">${articles.join('')}</ul>
			`
			$('.l-relatedAside').html(articleComponent)
		}
	}

	var productPage = () => {

		console.log(state, 'product page')
		var productPageComponent =
			`<div class="l-container">
				<article class="c-contents">
					<div class="c-contentsPanel">
						<div class="c-contentsPanel_image"></div>
						<div class="c-contentsPanel_inner"></div>
					</div>
					<section class="c-shoulderSection"></section>
				</article>
				<aside class="l-relatedAside">
				</aside>
				<a class="c-topPageButton js-trackEvent" href="/jp/ja/contents/feature/masterpiece/"
					data-category="L3_20ss_masterpiece_comfort_jacket_details_page" data-label="#">
					<figure class="u-imgAdjustBox" data-aspect-ratio="322:119">
						<picture class="u-imgAdjustBox_inner">
							<source data-srcset="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.webp?20200306"
								type="image/webp"
								srcset="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.webp?20200306">
							<source data-srcset="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.png?20200306"
								type="image/png"
								srcset="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.png?20200306"><img
								class="fr-img lazyloaded"
								src="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.png?20200306"
								data-src="/jp/ja/contents/feature/masterpiece/img/button-back-to-top.png?20200306"
								alt="UNIQLO MASTERPIECE BACK TO TOP" data-expand="300">
						</picture>
					</figure>
				</a>
			</div>`

		if (state.contentSelected) {
			$('.main').html(productPageComponent);
			productInfo();
			relatedProducts();
			topArticles();
		} else {
			$('.main').html('Page not found');
		}
	}

	// Init App
	$(document).ready(() => {
		var urlParams = new URLSearchParams(window.location.search);

		var product = urlParams.get('product') ? urlParams.get('product').split('-').join(' ').replace('_', '-')
			.toLowerCase() :
			null;

		var category = urlParams.get('category') ? urlParams.get('category').split('-').join(' ').replace('_', '-')
			.toLowerCase() :
			null;


		if (product && category) {

			var findProductPageData = masterpieceData.filter((data) => {
				return data.category.toLowerCase() === category && data.productName.toLowerCase() ===
					product
			})

			if (findProductPageData && findProductPageData.length > 0) {
				state.contentSelected = findProductPageData[0];
				productPage();

			} else {
				state.contentSelected = null;
				$('.main').html('Page not found');
			}

		} else {
			homepage()
		}

		$('.js-trackEvent').click((e) => {
			console.log(e.currentTarget.dataset)
		})

		$('.l-navigation_item').click((e) => {
			state.filter = e.currentTarget.dataset.filterButton
			homepageProductList()
		})

		$(window).scroll(() => {
			if ($('.l-navigation_wrapper').length > 0) {
				if ($(window).scrollTop() > $('.l-navigation_wrapper').offset().top) {
					$('.l-navigation_body').addClass('sticky-menu')
				} else {
					$('.l-navigation_body').removeClass('sticky-menu')
				}
			}
		})
	})

	// GA TAG
	var masterpieceGA = (e) => {
		if (!(e.dataset)) {
			event.preventDefault();
		}

		var value = e.dataset && e.dataset.label ? e.dataset.label.toLowerCase() : e;
		var urlPrefix = 'https://www.uniqlo.com/us/en';

		if (window.location.href.includes('staging')) {
			urlPrefix = 'https://staging-na-uniqlo.demandware.net/s/UniqloUS'
		}

		if (window.location.href.includes('development')) {
			urlPrefix = 'https://development-na-uniqlo.demandware.net/s/UniqloUS'
		}

		var path = window.location.href.split('?')[0].replace(urlPrefix, '');
		if (path.substring(path.length - 1) !== '/') {
			path = path + '/'
		}

		// dataLayer.push({
		// 	'event': 'eventTracking',
		// 	'eventCategory': 'category page',
		// 	'eventAction': `clicked category: ${path}`,
		// 	'eventLabel': `l3_${value}`
		// })
	}

</script>
